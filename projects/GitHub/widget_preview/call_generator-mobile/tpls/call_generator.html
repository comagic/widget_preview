<div class="comagic-widget comagic-lead comagic-lead-call-generator">
    <div class="comagic-lead__mask"></div>
    <div class="comagic-lead__content <% if (banner_color_mobile === '232323') { %> comagic-lead__dark <% } else { %> comagic-lead__light <% } %>">
        <div class="comagic-lead__work-area">
            <div>
                <div class="comagic-lead__info-area">
                    <div>
                        <% if (is_image) { %>
                            <div class="comagic-lead__image">
                                <img src='<%- image_url %>'>
                            </div>
                        <% } %>
                        <div class="comagic-lead__title" style="color: #<%- button_color_mobile %>">
                            <%- banner_title %>
                        </div>
                        <div class="comagic-lead__message">
                            <%- banner_text %>
                        </div>
                    </div>
                </div>
            </div>
            <div class="comagic-lead__fields-wrapper">
                <div class="comagic-lead__field-container">
                    <div class="comagic-lead__field-wrapper comagic-phone-field comagic-error--hidden">
                        <div class="comagic-lead__error-icon"></div>
                        <input class="comagic-lead__field__input" type="tel" c-mask="+7 (___) ___-__-__" c-name="phone" c-type="numberfield"
                            <% var fieldPlaceholder = 'Телефон' %>
                            <% var validator = 'phone' %>
                            <% if (validator) { %>
                                <%- validator+=" required" %> <%- fieldPlaceholder+="*" %>
                            <% } %>
                            c-validator="<%- validator %>"
                            placeholder="<%- fieldPlaceholder %>"
                        >
                        <div class="comagic-lead__error-tooltip">Введите номер</div>
                    </div>
                </div>
                <% if (is_groups_enabled) { %>
                    <div class="comagic-lead__field-container">
                        <div class="comagic-lead__field-wrapper comagic-combobox-field comagic-combobox-field--group comagic-error--hidden">
                            <div class="comagic-lead__error-icon"></div>
                            <input tabindex="-1" unselectable="on" class="comagic-lead__field__input comagic-lead__field__input--select"c-name="group_id" c-type="field" c-validator="required" readonly="readonly" placeholder="<%- group_title %>*">
                            <select tabindex="-1" unselectable="on" class="comagic-lead__field__select">
                                <% allowed_groups.forEach(function(group) { %><option value="<%- group.id %>"><%- group.name %></option><% }); %>
                            </select>
                            <div class="comagic-lead__error-tooltip">Необходимо заполнить</div>
                        </div>
                    </div>
                <% } %>
                <% if (delayed_call_times) { %>
                    <div class="comagic-call-generator__block-delayed-call">
                        <div class="comagic-lead__field-container">
                            <div class="comagic-lead__field-wrapper comagic-combobox-field comagic-call-generator__field-delayed-call-day comagic-error--hidden">
                                <div class="comagic-lead__error-icon"></div>
                                <input tabindex="-1" unselectable="on" c-name="delayed_call_day" class="comagic-lead__field__input comagic-lead__field__input--select comagic-call-generator__field-delayed-call-day__input" c-name="delayed_call_day" c-validator="required" readonly="readonly" placeholder="День*">
                                <select tabindex="-1" unselectable="on" c-name="delayed_call_day" c-type="field" class="comagic-lead__field__select comagic-call-generator__field-delayed-call-day__select" c-name="delayed_call_day" c-validator="required"></select>
                                <div class="comagic-lead__error-tooltip">Необходимо заполнить</div>
                            </div>
                        </div>

                        <div class="comagic-lead__field-container">
                            <div class="comagic-lead__field-wrapper comagic-combobox-field comagic-call-generator__field-delayed-call-time comagic-error--hidden">
                                <div class="comagic-lead__error-icon"></div>
                                <input tabindex="-1" unselectable="on" c-name="delayed_call_time" class="comagic-lead__field__input comagic-lead__field__input--select comagic-call-generator__field-delayed-call-time__input" c-name="delayed_call_time" c-validator="required" readonly="readonly" placeholder="Время*">
                                <select tabindex="-1" unselectable="on" c-name="delayed_call_time" c-type="field" class="comagic-lead__field__select comagic-call-generator__field-delayed-call-time__select" c-name="delayed_call_time" c-validator="required"></select>
                                <div class="comagic-lead__error-tooltip">Необходимо заполнить</div>
                            </div>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>
        <div <% if (widget_link_text || (delayed_call_times && is_schedule_active)) { %> class="comagic-lead__footer-area" <% } %>>
            <% if (delayed_call_times && is_schedule_active) { %>
                <a class="comagic-lead__link comagic-call-generator__linkbutton-delayed-call"></a>
            <% } %>
        </div>
        <div class="comagic-lead__button-area">
            <a tabindex="0" class="comagic-lead__main-button" style="background-color: #<%- button_color_mobile %>">
                <span><%- button_text %></span>
            </a>
        </div>
        <div class="comagic-lead__button-close"></div>
    </div>
</div>