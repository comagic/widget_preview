<div class='comagic-widget comagic-c-consultant-container comagic-js-consultant-offline-message--hidden'
     c-ref='content'>
    <div class='comagic-c-consultant-container__content comagic-h-consultant-tools-owner'>
        <div class='comagic-c-tools comagic-c-tools--anchor-left' c-ref='closeBtn'>
            <i class='comagic-c-tools__btn comagic-c-tools__btn--close'></i>
        </div>
        <div class='comagic-c-offline-message'>
            <div class='comagic-c-consultant-container__header'>
                <div class='comagic-c-offline-message__header-icon'></div>
                <div class='comagic-c-consultant-container__header-title'><%=offline_message.title%></div>
            </div>
            <div class='comagic-c-offline-message__body'>
                <div class='comagic-c-offline-message__form'>
                    <% (offline_message.fields || []).forEach(function(field) {
                        if (field.name === 'name') { %>
                            <div class='comagic-h-consultant-relative comagic-h-consultant-field-fix comagic-h-consultant-margin-top'>
                                <input class='comagic-c-consultant-field'
                                     placeholder='<%=field.title%> <%=(field.is_required ? "*" : "")%>'
                                     c-name='name' c-type='field' c-validator='<%=(field.is_required ? "required" : "")%>' c-ref='name'>
                            </div>
                        <%}
                        if (field.name === 'email') {%>
                            <div class='comagic-h-consultant-relative comagic-h-consultant-field-fix comagic-h-consultant-margin-top'>
                                <input class='comagic-c-consultant-field'
                                     placeholder='<%=field.title%> <%=(field.is_required ? "*" : "")%>'
                                     c-name='email' c-type='field' c-validator='<%=(field.is_required ? "required" : "")%> email' c-ref='email'>
                            </div>
                        <%}
                        if (field.name === 'phone') { %>
                            <div class='comagic-h-consultant-relative comagic-h-consultant-field-fix comagic-h-consultant-margin-top'>
                                <input type='tel' class='comagic-c-consultant-field'
                                     placeholder='<%=field.title%> <%=(field.is_required ? "*" : "")%>'
                                     c-name='phone' c-type='numberfield' c-validator='<%=(field.is_required ? "required" : "")%> phone' c-mask='<%=Comagic.UI.C.PHONE_MASK_FORMAT%>'
                                     c-ref='phone'>
                            </div>
                        <%}
                        if (field.name === 'message') {%>
                            <div class='comagic-h-consultant-relative comagic-h-consultant-wrapper comagic-h-consultant-field-fix comagic-h-consultant-margin-top'>
                                <textarea class='comagic-c-consultant-field comagic-c-consultant-field--high'
                                     placeholder='<%=field.title%> <%=(field.is_required ? "*" : "")%>'
                                     c-name='message' c-type='field' c-validator='<%=(field.is_required ? "required" : "")%>' c-ref='message'></textarea>
                            </div>
                        <%}
                    })%>
                    <% if (offline_message.is_groups_enabled) { %>
                        <div class='comagic-h-consultant-relative'>
                            <select class='comagic-c-consultant-field comagic-c-consultant-field--default comagic-c-consultant-field--select comagic-h-consultant-margin-top'
                                    placeholder='<%=offline_message.group_title%> *'
                                    c-name='group_id' c-type='field' c-validator='required' c-select='true' c-ref='group'>
                                <option disabled selected value=''><%=offline_message.group_title%> *</option>
                                <% offline_message.allowed_groups.forEach(function(group, number) { %>
                                    <option value='<%=group.id%>'><%=group.name%></option>
                                <% }); %>
                            </select>
                        </div>
                    <% } %>
                    <div class='comagic-c-consultant-button comagic-c-consultant-button--widget-color comagic-h-consultant-margin-top comagic-c-consultant-button--default'
                         c-type='submitbutton'
                         c-ref='submitBtn'><%=Comagic.UI.C.SEND_OFFLINE_MESSAGE_TEXT%>
                    </div>
                </div>
                <div class='comagic-c-offline-message__feedback'>
                    <div class='comagic-c-offline-message__feedback-icon'></div>
                    <div class='comagic-c-offline-message__feedback-text'>
                        <div class='comagic-c-offline-message__feedback-title' c-ref='feedbackTitle'></div>
                        <div class='comagic-c-offline-message__feedback-message' c-ref='feedbackMessage'></div>
                    </div>
                </div>
                <% if (offline_message.widget_link_text) { %>
                    <div class='comagic-c-consultant-container__widget-link'>
                        <a href='<%= offline_message.widget_link_url %>' target='_blank' class='comagic-c-consultant-container__widget-link-text'><%= offline_message.widget_link_text %></a>
                    </div>
                <% } %>
                <% if (offline_message.banner_branding_text) { %>
                    <div class='comagic-c-consultant-container__banner-branding'>
                        <a href='<%= offline_message.banner_branding_url %>' target='_blank' class='comagic-c-consultant-container__banner-branding-text'><%= offline_message.banner_branding_text %></a>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
    <div class='comagic-c-consultant-container__landscape'></div>
</div>
